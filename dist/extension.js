(()=>{"use strict";var e={496:e=>{e.exports=require("vscode")},147:e=>{e.exports=require("fs")}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,o),i.exports}var r={};(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.createAndWriteFile=e.resetDecoration=e.deactivate=e.activate=void 0;const t=o(496),n=o(147);var i=[];function s(e){return null==e&&(e="default"),t.env.appRoot+"/word-recolor/"+e+".json"}function c(e){for(const t of e)t.decorationTypeArr.dispose(),t.ranges.length=0;e.length=0}function a(e,t){let o,r,i="",s="",c="";null==t&&(t="default");let a=__dirname+"/../jsonFile/"+t+".json";o=e.split("/"),o.pop(),r=o.join("/"),n.existsSync(a)&&(i=n.readFileSync(a,"utf-8"),s=JSON.parse(i),c=JSON.stringify(s,null,4)),n.existsSync(e)||(n.existsSync(r)||n.mkdir(r,{recursive:!0},(e=>{e?console.error(e):console.log(r+" created")})),n.writeFileSync(e,c,"utf8"))}e.activate=function(e){let o=t.commands.registerCommand("wordrecolor.activate",(()=>{if(!t.window.activeTextEditor)return;!function(){let e,o=t.window.activeTextEditor;e=o?o.document.languageId:"No language detected"}();let o=s(null);a(o,null);let r,c=function(e){let t=n.readFileSync(e,"utf8");return JSON.parse(t)}(o);function d(){var e=t.window.activeTextEditor;if(!e)return;var o=e.document,r=o.getText(),n=[];let s=Object.keys(c);for(let e of s){let s=c[e];for(let e of s){let i,s=new RegExp("\\b("+e+")\\b","gi");for(;i=s.exec(r);){const e=o.positionAt(i.index),r=o.positionAt(i.index+i[0].length),s=new t.Range(e,r);n.push(s)}}i.push({decorationTypeArr:t.window.createTextEditorDecorationType({color:e}),ranges:[...n]})}for(const t of i){let o=t.decorationTypeArr,r=t.ranges;e.setDecorations(o,r)}}function l(){r&&(clearTimeout(r),r=void 0),r=setTimeout(d,500)}t.window.activeTextEditor&&l(),t.window.onDidChangeActiveTextEditor((e=>{e&&l()}),null,e.subscriptions),t.workspace.onDidChangeTextDocument((e=>{t.window.activeTextEditor&&e.document===t.window.activeTextEditor.document&&l()}),null,e.subscriptions)})),r=t.commands.registerCommand("wordrecolor.showPath",(()=>{let e=s(null);t.window.showInformationMessage(e)})),d=t.commands.registerCommand("wordrecolor.clear",(()=>{c(i)}));e.subscriptions.push(o),e.subscriptions.push(r),e.subscriptions.push(d)},e.deactivate=function(){c(i)},e.resetDecoration=c,e.createAndWriteFile=a})(),module.exports=r})();